{% load custom_filters %}
{% load static %}
<head>

    <meta charset ="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title> iCast </title> 

    <link rel="stylesheet" type="text/css" href="https://bootswatch.com/5/flatly/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="{%static 'css/style.css'}"> 
</head>

<body>
<h1>Manage Voters</h1>
<hr>

<!-- Your existing table structure -->
<table class="table table-hover table-bordered">
  <thead>
    <tr>
        <th><input type="checkbox" id="select-all"/></th>
        {% for field_name in field_names %}
            <th>{{ field_name }}</th>
        {% endfor %}
    </tr>
  </thead>
  <tbody>
  </tr>
    {% for voter in voters_data %}
        <tr>
            <td><input type="checkbox"/></td>
            {% for field_name in field_names %}
                <td>{{ voter|get_item:field_name }}</td>
            {% endfor %}
            <td><a href="#"> Generate Voter Account </a></td>
        </tr>
        <tr></tr>
    {% endfor %}
  </tbody>
</table>
    <div>
        <a href="#"> Generate Voter Account </a>
        <form method="post" enctype="multipart/form-data" action="{% url 'Upload_CSV' %}">
            {% csrf_token %}
            <label for="file">Import CSV File:</label>
            <input type="file" name="file" id="file" accept=".csv" required>
            <button type="submit">Upload CSV</button>
        </form>
    </div>

    <script>
        document.getElementById('select-all').onclick = function() {
            var checkboxes = document.querySelectorAll('input[type="checkbox"]');
            for (var checkbox of checkboxes) {
             checkbox.checked = this.checked;
            }
        }   
    </script>
</body>